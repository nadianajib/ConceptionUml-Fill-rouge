<div class="container">
    <h2>Modifier le Service</h2>
    <form [formGroup]="serviceForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="nom">Nom:</label>
            <input id="nom" formControlName="nom" type="text" class="form-control" required>
            <div *ngIf="submitted && f['nom'].errors" class="text-danger">
                <div *ngIf="f['nom'].errors['required']">Le nom est requis.</div>
            </div>
        </div>

        <div class="form-group">
            <label for="description">Description:</label>
            <textarea id="description" formControlName="description" class="form-control" required></textarea>
            <div *ngIf="submitted && f['description'].errors" class="text-danger">
                <div *ngIf="f['description'].errors['required']">La description est requise.</div>
            </div>
        </div>

        <div class="form-group">
            <label for="prix">Prix:</label>
            <input id="prix" formControlName="prix" type="number" class="form-control" required>
            <div *ngIf="submitted && f['prix'].errors" class="text-danger">
                <div *ngIf="f['prix'].errors['required']">Le prix est requis.</div>
                <div *ngIf="f['prix'].errors['min']">Le prix doit être supérieur ou égal à 0.</div>
            </div>
        </div>

      

        <div class="form-group">
            <label for="image">Image:</label>
            <input id="image" type="file" (change)="onFileSelected($event)" class="form-control" required>
            <div *ngIf="submitted && f['image'].errors && f['image'].errors['required']" class="text-danger">
                L'image est requise.
            </div>
        </div>

        <div *ngIf="image" class="mt-3">
            <h5>Aperçu de l'image :</h5>
            <img [src]="image" alt="Aperçu de l'image" class="img-thumbnail" style="max-width: 200px;">
        </div>

        <button type="submit" class="btn btn-primary mt-3" [disabled]="submitted && serviceForm.invalid">Mettre à jour</button>
        <button type="button" class="btn btn-secondary mt-3" (click)="router.navigate(['/service-list'])">Annuler</button>
    </form>
</div>
